{"ast":null,"code":"var _jsxFileName = \"/Users/marijastojanovic/Desktop/School Projects/Joe Mod 4/mod4Project_frontend/src/components/LoginForm.js\";\nimport React from \"react\";\nimport { Button, Form, Segment } from \"semantic-ui-react\";\n\nclass LoginForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      password: \"\"\n    };\n\n    this.handleLoginSubmit = () => {\n      fetch('http://localhost:4000/login', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: this.state.name,\n          password: this.state.password\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.successful) {\n          let user = data.data;\n          console.log(\"Jel ovo user?\", user);\n          localStorage.setItem(\"jwt\", data.token);\n          this.props.loginSubmit(user);\n        } else {\n          alert(data.message);\n        }\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleLoginSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      label: \"username\",\n      value: this.state.name,\n      onChange: event => this.setState({\n        name: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      type: \"password\",\n      label: \"password\",\n      value: this.state.password,\n      onChange: event => this.setState({\n        password: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Login \")));\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["/Users/marijastojanovic/Desktop/School Projects/Joe Mod 4/mod4Project_frontend/src/components/LoginForm.js"],"names":["React","Button","Form","Segment","LoginForm","Component","state","name","password","handleLoginSubmit","fetch","method","headers","body","JSON","stringify","then","res","json","data","successful","user","console","log","localStorage","setItem","token","props","loginSubmit","alert","message","render","event","setState","target","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,OAAvB,QAAsC,mBAAtC;;AACA,MAAMC,SAAN,SAAwBJ,KAAK,CAACK,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACpCC,KADoC,GAC5B;AACJC,MAAAA,IAAI,EAAE,EADF;AAEJC,MAAAA,QAAQ,EAAE;AAFN,KAD4B;;AAAA,SAMpCC,iBANoC,GAMhB,MAAM;AACxBC,MAAAA,KAAK,CAAC,6BAAD,EAAgC;AACrCC,QAAAA,MAAM,EAAE,MAD6B;AAErCC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,oBAAU;AAFH,SAF4B;AAMrCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBR,UAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IADE;AAEnBC,UAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAFF,SAAf;AAN+B,OAAhC,CAAL,CAUCQ,IAVD,CAUMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVb,EAWDF,IAXC,CAWIG,IAAI,IAAI;AACZ,YAAGA,IAAI,CAACC,UAAR,EAAmB;AACjB,cAAIC,IAAI,GAAGF,IAAI,CAACA,IAAhB;AACAG,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BF,IAA5B;AACAG,UAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BN,IAAI,CAACO,KAAjC;AACA,eAAKC,KAAL,CAAWC,WAAX,CAAuBP,IAAvB;AACD,SALD,MAKK;AACHQ,UAAAA,KAAK,CAACV,IAAI,CAACW,OAAN,CAAL;AACD;AACF,OApBC;AAqBH,KA5BqC;AAAA;;AA6BpCC,EAAAA,MAAM,GAAE;AAEJ,WAEA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AACI,MAAA,QAAQ,EAAE,KAAKtB,iBADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,MAAM,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD,CAAM,KAAN;AACA,MAAA,KAAK,EAAC,UADN;AACiB,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWC,IADnC;AACyC,MAAA,QAAQ,EAAGyB,KAAD,IAAS,KAAKC,QAAL,CAAc;AAAC1B,QAAAA,IAAI,EAAEyB,KAAK,CAACE,MAAN,CAAaC;AAApB,OAAd,CAD5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAIA,oBAAC,IAAD,CAAM,KAAN;AACA,MAAA,IAAI,EAAC,UADL;AACgB,MAAA,KAAK,EAAC,UADtB;AACiC,MAAA,KAAK,EAAE,KAAK7B,KAAL,CAAWE,QADnD;AAC6D,MAAA,QAAQ,EAAGwB,KAAD,IAAS,KAAKC,QAAL,CAAc;AAACzB,QAAAA,QAAQ,EAAEwB,KAAK,CAACE,MAAN,CAAaC;AAAxB,OAAd,CADhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJA,CAHJ,EAUI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ,CADA,CAFA;AAiBH;;AAhDmC;;AAmDxC,eAAe/B,SAAf","sourcesContent":["import React from \"react\"\nimport { Button, Form, Segment } from \"semantic-ui-react\"\nclass LoginForm extends React.Component {\n    state = {\n        name: \"\",\n        password: \"\"\n    }\n\n    handleLoginSubmit = () => {\n      fetch('http://localhost:4000/login', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\" :\"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: this.state.name,\n        password: this.state.password\n      })\n    }).then(res => res.json())\n    .then(data => {\n      if(data.successful){\n        let user = data.data\n        console.log(\"Jel ovo user?\",user)\n        localStorage.setItem(\"jwt\", data.token)\n        this.props.loginSubmit(user)\n      }else{\n        alert(data.message)\n      }\n    })\n  };\n    render(){\n     \n        return(\n\n        <Segment>\n        <Form\n            onSubmit={this.handleLoginSubmit}\n            >\n            <Form.Group widths=\"equal\">\n            <Form.Input\n            label=\"username\" value={this.state.name} onChange={(event)=>this.setState({name: event.target.value})}\n            />\n            <Form.Input            \n            type=\"password\" label=\"password\" value={this.state.password} onChange={(event)=>this.setState({password: event.target.value})}/>\n            </Form.Group>\n            <Button type=\"submit\">Login </Button>\n            </Form>\n            </Segment>\n        ) \n    }\n}\n\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}